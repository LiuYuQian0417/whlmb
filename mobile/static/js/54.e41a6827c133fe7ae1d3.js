webpackJsonp([54],{"Al+v":function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("LpTB"),o={render:function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",[t("head-title",{attrs:{title:"发票"}}),e._v(" "),t("div",{staticClass:"wary"},[t("div",{staticClass:"invoice"},[e._m(0),e._v(" "),t("div",{staticClass:"invoice_tab"},e._l(e.inviuceType,function(i,n){return t("div",{directives:[{name:"show",rawName:"v-show",value:1==i.type,expression:"item.type == 1"}],key:n,class:{colorBgAlp:e.inviuceType_status==n},on:{click:function(i){i.stopPropagation(),e.onInvoiceType(n)}}},[t("span",[e._v(e._s(i.name))])])}),0)]),e._v(" "),t("div",{staticClass:"invoice"},[e._m(1),e._v(" "),t("div",{staticClass:"invoice_tab"},[t("div",{directives:[{name:"show",rawName:"v-show",value:2!=e.inviuceType_status,expression:"inviuceType_status != 2"}],class:{colorBgAlp:0==e.invoiceTitle_status},on:{click:function(i){e.onInvoiceTitle(0)}}},[t("span",[e._v("个人或事业单位")])]),e._v(" "),t("div",{class:{colorBgAlp:1==e.invoiceTitle_status},on:{click:function(i){e.onInvoiceTitle(1)}}},[t("span",[e._v("企业")])])]),e._v(" "),t("div",{staticClass:"invoice_content"},[t("div",{directives:[{name:"show",rawName:"v-show",value:0==e.invoiceTitle_status,expression:"invoiceTitle_status == 0"}],staticClass:"person"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.invoiceContent.rise,expression:"invoiceContent.rise"}],attrs:{type:"text",placeholder:"请填写抬头名称"},domProps:{value:e.invoiceContent.rise},on:{input:function(i){i.target.composing||e.$set(e.invoiceContent,"rise",i.target.value)}}})]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:0!=e.invoiceTitle_status,expression:"invoiceTitle_status != 0"}],staticClass:"enterprise"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.invoiceContent.name,expression:"invoiceContent.name"}],attrs:{type:"text",placeholder:"请填写企业名称"},domProps:{value:e.invoiceContent.name},on:{input:function(i){i.target.composing||e.$set(e.invoiceContent,"name",i.target.value)}}}),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.invoiceContent.identify_number,expression:"invoiceContent.identify_number"}],attrs:{type:"text",placeholder:"请填写纳税人识别号"},domProps:{value:e.invoiceContent.identify_number},on:{input:function(i){i.target.composing||e.$set(e.invoiceContent,"identify_number",i.target.value)}}}),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.invoiceContent.address,expression:"invoiceContent.address"}],attrs:{type:"text",placeholder:"请填写注册地址(选填)"},domProps:{value:e.invoiceContent.address},on:{input:function(i){i.target.composing||e.$set(e.invoiceContent,"address",i.target.value)}}}),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.invoiceContent.phone,expression:"invoiceContent.phone"}],attrs:{type:"text",placeholder:"请填写注册电话(选填)"},domProps:{value:e.invoiceContent.phone},on:{input:function(i){i.target.composing||e.$set(e.invoiceContent,"phone",i.target.value)}}}),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.invoiceContent.bank,expression:"invoiceContent.bank"}],attrs:{type:"text",placeholder:"请填写开户银行(选填)"},domProps:{value:e.invoiceContent.bank},on:{input:function(i){i.target.composing||e.$set(e.invoiceContent,"bank",i.target.value)}}}),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.invoiceContent.account_number,expression:"invoiceContent.account_number"}],attrs:{type:"text",placeholder:"请填写银行账号(选填)"},domProps:{value:e.invoiceContent.account_number},on:{input:function(i){i.target.composing||e.$set(e.invoiceContent,"account_number",i.target.value)}}})])])]),e._v(" "),t("div",{staticClass:"invoice_mess"},[e._m(2),e._v(" "),t("div",{staticClass:"list"},[t("div",[e._v("收票人手机")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.invoiceContent.invoice_phone,expression:"invoiceContent.invoice_phone"}],attrs:{type:"text",maxlength:"11",placeholder:"可以通过手机号在发票服务平台查询"},domProps:{value:e.invoiceContent.invoice_phone},on:{input:function(i){i.target.composing||e.$set(e.invoiceContent,"invoice_phone",i.target.value)}}})]),e._v(" "),t("div",{staticClass:"list"},[t("div",[e._v("收票人邮箱")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.invoiceContent.invoice_mailbox,expression:"invoiceContent.invoice_mailbox"}],attrs:{type:"text",placeholder:"用来接收电子发票邮箱，可选填"},domProps:{value:e.invoiceContent.invoice_mailbox},on:{input:function(i){i.target.composing||e.$set(e.invoiceContent,"invoice_mailbox",i.target.value)}}})])]),e._v(" "),t("div",{staticClass:"invoice"},[e._m(3),e._v(" "),t("div",{staticClass:"invoice_tab"},e._l(e.invoiceDetail,function(i,n){return t("div",{key:n,class:{colorBgAlp:e.invoiceDetail_status==n},on:{click:function(i){e.onInvoiceDetail(n)}}},[t("span",[e._v(e._s(i.name))])])}),0),e._v(" "),e._m(4)])]),e._v(" "),t("div",{staticClass:"submit bgActiveColor",on:{click:e.onSubmit}},[t("span",[e._v("确定")])])],1)},staticRenderFns:[function(){var e=this.$createElement,i=this._self._c||e;return i("div",{staticClass:"invoice_title"},[i("span",[this._v("发票类型")])])},function(){var e=this.$createElement,i=this._self._c||e;return i("div",{staticClass:"invoice_title"},[i("span",[this._v("发票抬头")])])},function(){var e=this.$createElement,i=this._self._c||e;return i("div",{staticClass:"invoice_title"},[i("span",[this._v("收票人信息")])])},function(){var e=this.$createElement,i=this._self._c||e;return i("div",{staticClass:"invoice_title"},[i("span",[this._v("发票内容")])])},function(){var e=this.$createElement,i=this._self._c||e;return i("div",{staticClass:"hint"},[i("span",[this._v("发票内容将显示商品所属类别与价格信息")])])}]};var a=function(e){t("LW+R")},s=t("VU/8")(n.a,o,!1,a,"data-v-57a9befa",null);i.default=s.exports},"LW+R":function(e,i,t){var n=t("Wdsy");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);t("rjj0")("7a2ca956",n,!0,{})},LpTB:function(e,i,t){"use strict";(function(e){var n=t("c2Ch");i.a={data:function(){return{inviuceType_status:0,invoiceTitle_status:0,invoiceDetail_status:0,inviuceType:[{id:1,name:"电子普通发票"},{id:2,name:"普通发票"},{id:3,name:"增值税专用发票"}],invoiceTitle:[{id:1,name:"个人或事业单位"},{id:2,name:"企业"}],invoiceDetail:[{id:1,name:"商品明细"},{id:2,name:"商品类型"}],invoiceContent:{rise:"",name:"",identify_number:"",address:"",phone:"",bank:"",account_number:"",invoice_phone:"",invoice_mailbox:""}}},mounted:function(){this.getData()},updated:function(){this.commonJs.changeColor()},methods:{getData:function(){var e=this;Object(n.k)({store_id:this.$route.query.store_id}).then(function(i){for(var t=0;t<e.inviuceType.length;t++)e.inviuceType[t].type=i.result[t];e.$forceUpdate()})},onInvoiceType:function(i){this.inviuceType_status=i,2===i&&(this.invoiceTitle_status=1),e(".invoice_tab > div").removeAttr("style")},onInvoiceTitle:function(i){this.invoiceTitle_status=i,e(".invoice_tab > div").removeAttr("style")},onInvoiceDetail:function(i){this.invoiceDetail_status=i,e(".invoice_tab > div").removeAttr("style")},onSubmit:function(){var e=this;if(/^[1][3,4,5,7,8,9][0-9]{9}$/.test(this.invoiceContent.invoice_phone))if(""!==this.invoiceContent.rise||0!=this.invoiceTitle_status)if(""!==this.invoiceContent.name||0==this.invoiceTitle_status)if(""!==this.invoiceContent.identify_number||0==this.invoiceTitle_status){var i={order_attach_id:this.$route.query.order_attach_id,invoice_type:this.inviuceType_status+1,rise:this.invoiceTitle_status+1,rise_name:this.invoiceContent.rise,detail_type:this.invoiceDetail_status+1,company:this.invoiceContent.name,identification:this.invoiceContent.identify_number,invoice_address:this.invoiceContent.address,invoice_phone:this.invoiceContent.phone,bank:this.invoiceContent.bank,account:this.invoiceContent.account_number,person_mobile:this.invoiceContent.invoice_phone,person_mail:this.invoiceContent.invoice_mailbox,invoice_attr:this.$route.query.invoice_status};3!=this.$route.query.invoice_status?Object(n.m)({order_attach_id:this.$route.query.order_attach_id,invoice_type:this.inviuceType_status+1,rise:this.invoiceTitle_status+1,rise_name:this.invoiceContent.rise,detail_type:this.invoiceDetail_status+1,company:this.invoiceContent.name,identification:this.invoiceContent.identify_number,invoice_address:this.invoiceContent.address,invoice_phone:this.invoiceContent.phone,bank:this.invoiceContent.bank,account:this.invoiceContent.account_number,person_mobile:this.invoiceContent.invoice_phone,person_mail:this.invoiceContent.invoice_mailbox,invoice_attr:this.$route.query.invoice_status}).then(function(t){0!=e.inviuceType_status?e.$router.push({name:"InvoiceOrder",query:{store_id:e.$route.query.store_id,info:i}}):Object(n.n)({order_attach_id:e.$route.query.order_attach_id,invoice_id:""}).then(function(i){e.$skip.replace({name:"InvoiceSuccess"})})}):Object(n.q)({order_attach_id:this.$route.query.order_attach_id,invoice_type:this.inviuceType_status+1,rise:this.invoiceTitle_status+1,rise_name:this.invoiceContent.rise,detail_type:this.invoiceDetail_status+1,company:this.invoiceContent.name,identification:this.invoiceContent.identify_number,invoice_address:this.invoiceContent.address,invoice_phone:this.invoiceContent.phone,bank:this.invoiceContent.bank,account:this.invoiceContent.account_number,person_mobile:this.invoiceContent.invoice_phone,person_mail:this.invoiceContent.invoice_mailbox,invoice_attr:this.$route.query.invoice_status,store_id:this.$route.query.store_id}).then(function(t){0!=e.inviuceType_status?e.$router.push({name:"InvoiceOrder",query:{store_id:e.$route.query.store_id,info:i}}):Object(n.n)({order_attach_id:e.$route.query.order_attach_id,invoice_id:""}).then(function(i){e.$skip.replace({name:"InvoiceSuccess"})})})}else this.$Toast.toast("请输入纳税人识别号");else this.$Toast.toast("请输入企业名称");else this.$Toast.toast("请输入发票抬头");else this.$Toast.toast("请输入正确的手机号")}}}}).call(i,t("7t+N"))},Wdsy:function(e,i,t){(e.exports=t("FZ+f")(!1)).push([e.i,"\n.wary[data-v-57a9befa]{\n  /*position: fixed;*/\n  /*top:0;*/\n  /*left:0;*/\n  /*width: 100%;*/\n  /*height:100%;*/\n  /*overflow-y: scroll;*/\n  padding: 0 15px;\n  margin-top: 50px;\n  margin-bottom: 60px;\n}\n.invoice[data-v-57a9befa]{\n  width: 100%;\n  margin-top: 10px;\n}\n.invoice_title[data-v-57a9befa]{\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  width: 100%;\n  height:40px;\n  font-size: 16px;\n}\n.invoice_title span[data-v-57a9befa]{\n  font-weight: bold;\n}\n.invoice_tab[data-v-57a9befa]{\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  width: 100%;\n  height: 60px;\n}\n.invoice_tab>div[data-v-57a9befa]{\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  padding: 0 10px;\n  height: 40px;\n  border: 1px solid #dedede;\n  color: #212121;\n  border-radius: 6px;\n  margin-left: 10px;\n}\n.invoice_tab>div[data-v-57a9befa]:first-child{\n  margin-left: 0;\n}\n.invoice_tab>div>span[data-v-57a9befa]{\n  font-size: 14px;\n}\n.invoice_tab>.active[data-v-57a9befa]{\n  color: #f23030;\n  background-color: #fef4f3;\n  border-color: #f23030;\n}\n/*发票内容*/\n.invoice_content[data-v-57a9befa]{\n  width: 100%;\n}\n.invoice_content input[data-v-57a9befa]{\n  width: 100%;\n  height: 40px;\n  background-color: #f9f9f9;\n  border-radius: 6px;\n  margin-bottom: 10px;\n  /*padding: 0 10px;*/\n}\n/*收票人信息*/\n.invoice_mess[data-v-57a9befa]{\n  width: 100%;\n}\n.invoice_mess>.list[data-v-57a9befa]{\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  width: 100%;\n  line-height: 40px;\n  font-size: 14px;\n  border-bottom: 1px solid #e8e8e8;\n}\n.invoice_mess>.list>div[data-v-57a9befa]{\n  width: 30%;\n  height: 100%;\n  margin-right: 2%;\n}\n.invoice_mess>.list>input[data-v-57a9befa]{\n  width: 68%;\n  height: 100%;\n}\n/*提示*/\n.hint[data-v-57a9befa]{\n  width: 100%;\n  font-size: 14px;\n  color: #666;\n}\n/*确定*/\n.submit[data-v-57a9befa]{\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  width: 100%;\n  height: 50px;\n  background-color: #f23030;\n  color: #fff;\n  margin-top: 30px;\n}\n",""])}});